{"version":3,"sources":["./src/app/login/components/login.component.html","./src/app/login/components/login.component.scss","./src/app/login/components/login.component.ts","./src/app/login/login-routing.module.ts","./src/app/login/login.module.ts"],"names":[],"mappings":"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","file":"login-login-module.js","sourcesContent":["export default \"<ngx-spinner\\r\\n  bdColor=\\\"rgba(51,51,51,0.8)\\\"\\r\\n  size=\\\"medium\\\"\\r\\n  color=\\\"#fff\\\"\\r\\n  type=\\\"ball-scale-multiple\\\"\\r\\n>\\r\\n  <p style=\\\"font-size: 20px; color: white\\\">Cargando ...</p>\\r\\n</ngx-spinner>\\r\\n<main class=\\\"d-flex align-items-center min-vh-100 py-3 py-md-0 form-main\\\">\\r\\n  <div class=\\\"container\\\">\\r\\n    <div class=\\\"card form-main-card\\\">\\r\\n      <div class=\\\"row\\\">\\r\\n        <div class=\\\"col-md-5 form-main-logo-container\\\">\\r\\n          <img\\r\\n            src=\\\"./assets/img/form-image.png\\\"\\r\\n            alt=\\\"login\\\"\\r\\n            class=\\\"form-main-img\\\"\\r\\n          />\\r\\n          <img\\r\\n            src=\\\"./assets/img/japi-verde.png\\\"\\r\\n            alt=\\\"logo\\\"\\r\\n            class=\\\"form-main-logo\\\"\\r\\n          />\\r\\n        </div>\\r\\n        <div class=\\\"col-md-7\\\">\\r\\n          <div class=\\\"form-main-body\\\">\\r\\n            <p class=\\\"form-main-description\\\">Iniciar Sesión</p>\\r\\n            <form action=\\\"#!\\\" class=\\\"form-main-container\\\">\\r\\n              <div class=\\\"form-group\\\">\\r\\n                <label for=\\\"email\\\" class=\\\"sr-only\\\">Correo</label>\\r\\n                <input\\r\\n                  type=\\\"email\\\"\\r\\n                  name=\\\"email\\\"\\r\\n                  id=\\\"email\\\"\\r\\n                  class=\\\"form-control form-main-input\\\"\\r\\n                  [(ngModel)]=\\\"mail\\\"\\r\\n                  placeholder=\\\"Correo Electrónico\\\"\\r\\n                />\\r\\n                <span id=\\\"email-message\\\" class=\\\"form-main-input-error\\\"> </span>\\r\\n              </div>\\r\\n              <div class=\\\"form-group mb-4\\\">\\r\\n                <label for=\\\"password\\\" class=\\\"sr-only\\\">Contraseña</label>\\r\\n                <input\\r\\n                  type=\\\"password\\\"\\r\\n                  name=\\\"password\\\"\\r\\n                  id=\\\"password\\\"\\r\\n                  class=\\\"form-control form-main-input\\\"\\r\\n                  [(ngModel)]=\\\"pass\\\"\\r\\n                  placeholder=\\\"***********\\\"\\r\\n                />\\r\\n                <span id=\\\"password-message\\\" class=\\\"form-main-input-error\\\">\\r\\n                </span>\\r\\n              </div>\\r\\n              <div class=\\\"form-group\\\">\\r\\n                <button\\r\\n                  type=\\\"submit\\\"\\r\\n                  name=\\\"login\\\"\\r\\n                  id=\\\"login\\\"\\r\\n                  class=\\\"btn btn-block form-main-btn\\\"\\r\\n                  type=\\\"input\\\"\\r\\n                  (click)=\\\"loginService()\\\"\\r\\n                >\\r\\n                  Iniciar Sesión\\r\\n                </button>\\r\\n                <span\\r\\n                  id=\\\"button-message\\\"\\r\\n                  class=\\\"form-main-input-error text-center\\\"\\r\\n                >\\r\\n                </span>\\r\\n              </div>\\r\\n            </form>\\r\\n            <p class=\\\"form-main-footer\\\">\\r\\n              No tengo cuenta?\\r\\n              <a [routerLink]=\\\"['/registro']\\\" class=\\\"text-link\\\"\\r\\n                >Registrarme aquí</a\\r\\n              >\\r\\n            </p>\\r\\n            <a\\r\\n              class=\\\"form-main-terms text-link\\\"\\r\\n              target=\\\"_blank\\\"\\r\\n              href=\\\"https://drive.google.com/file/d/1MHvTB9t3uQervfF1MYtHC_3nA8oyllcA/view?usp=sharing\\\"\\r\\n              >Términos y condiciones</a\\r\\n            >\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</main>\\r\\n\"","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2xvZ2luL2NvbXBvbmVudHMvbG9naW4uY29tcG9uZW50LnNjc3MifQ== */\"","import { HttpClient } from \"@angular/common/http\";\r\nimport { Component, Input, OnInit } from \"@angular/core\";\r\nimport { Router } from \"@angular/router\";\r\nimport { LocationService } from \"../../utils/services/location/location.service\";\r\nimport { environment } from './../../../environments/environment';\r\nimport { NgxSpinnerService } from \"ngx-spinner\";\r\n\r\n@Component({\r\n  selector: \"app-login\",\r\n  templateUrl: \"./login.component.html\",\r\n  styleUrls: [\"./login.component.scss\"],\r\n})\r\nexport class LoginComponent implements OnInit {\r\n  @Input() mail: string;\r\n  @Input() pass: string;\r\n  @Input() lng: Float32Array;\r\n  @Input() lat: Float32Array;\r\n\r\n  private emailInput: HTMLInputElement;\r\n  private passInput: HTMLInputElement;\r\n  private buttonSpan: HTMLSpanElement;\r\n\r\n  constructor(\r\n    private http: HttpClient,\r\n    private router: Router,\r\n    private _location: LocationService,\r\n    private spinnnerService: NgxSpinnerService\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    this._location.getLocationService().then((resp) => {\r\n      this.lng = resp.lng;\r\n      this.lat = resp.lat;\r\n    });\r\n  }\r\n\r\n  loginService() {\r\n    this.emailInput = document.querySelector(\"#email\");\r\n    this.passInput = document.querySelector(\"#password\");\r\n    this.buttonSpan = document.querySelector(\"#button-message\");\r\n\r\n    localStorage.setItem(\"correo-chido\", this.mail);\r\n\r\n    if (!this.mail || !this.pass) {\r\n      this.buttonSpan.textContent =\r\n        \"Por favor complete los campos de correo y contraseña\";\r\n      this.emailInput.classList.add(\"error\");\r\n      this.passInput.classList.add(\"error\");\r\n    } else {\r\n      this.emailInput.classList.remove(\"error\");\r\n      this.passInput.classList.remove(\"error\");\r\n      this.buttonSpan.textContent = \"\";\r\n      this.spinnnerService.show();\r\n      let data = JSON.stringify({ email: this.mail, pass: this.pass });\r\n\r\n      this.http\r\n        .post(`${environment.url_api}/usuario/login`, data, {\r\n           \r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            \"Access-Control-Allow-Methods\": \"POST\",\r\n            \"Access-Control-Allow-Credentials\": \"true\",\r\n            \"Access-Control-Allow-Origin\": \"http://localhost:4200/*\",\r\n          },\r\n        })\r\n        .subscribe((result: any) => {\r\n          const { success, message, data } = result;\r\n          if (success) {\r\n            localStorage.setItem(\"auth\", JSON.stringify(data[0]));\r\n            this.spinnnerService.hide();\r\n            const currentUser = JSON.parse(localStorage.getItem(\"auth\"));\r\n            if (currentUser.tipo == 1) {\r\n              this.router.navigate([\"/registro-envio\"]);\r\n            } else if (currentUser.tipo == 2) {\r\n              this.router.navigate([\"/envios\"]);\r\n            } else if (currentUser.tipo == 3) {\r\n              this.router.navigate([\"/entregas-motorizado\"]);\r\n            }\r\n          } else if (message.toLowerCase() === \"correo invalido\") {\r\n            this.spinnnerService.hide();\r\n            this.buttonSpan.textContent =\r\n              \"El correo o la contraseña son incorrectos. Por favor inténtelo de nuevo\";\r\n            this.emailInput.classList.add(\"error\");\r\n            this.passInput.classList.add(\"error\");\r\n          } else if (message.toLowerCase() === \"su correo falta activar\") {\r\n            this.spinnnerService.hide();\r\n            this.router.navigate([\"/validar\"], {\r\n              queryParams: { emailValidar: this.mail },\r\n            });\r\n          }\r\n        });\r\n    }\r\n  }\r\n}\r\n","import { NgModule } from \"@angular/core\";\r\nimport { Routes, RouterModule } from \"@angular/router\";\r\n\r\n// Components\r\nimport { LoginComponent } from \"./components/login.component\";\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: \"\",\r\n    component: LoginComponent,\r\n  },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class LoginRoutingModule {}\r\n","import { NgModule } from \"@angular/core\";\r\nimport { CommonModule } from \"@angular/common\";\r\nimport { FormsModule } from \"@angular/forms\";\r\nimport { NgxSpinnerModule } from \"ngx-spinner\";\r\nimport { LoginRoutingModule } from \"./login-routing.module\";\r\n\r\n// Components\r\nimport { LoginComponent } from \"./components/login.component\";\r\n\r\n@NgModule({\r\n  declarations: [LoginComponent],\r\n  imports: [CommonModule, LoginRoutingModule, NgxSpinnerModule, FormsModule],\r\n})\r\nexport class LoginModule {}\r\n"],"sourceRoot":"webpack:///"}