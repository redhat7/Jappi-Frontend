<ngx-spinner
  bdColor="rgba(51,51,51,0.8)"
  size="medium"
  color="#fff"
  type="ball-scale-multiple"
>
  <p style="font-size: 20px; color: white">Cargando ...</p>
</ngx-spinner>
<div class="row">
  <div class="col-md-12">
    <div class="card">
      <div class="d-flex cabeza">
      <div class="card-body d-flex align-items-center col-md-8">
        <select
          class="form-select form-main-select col-md-3 mr-2"
          id="entrega"
          style="display: block"
          (change)="selectSpinner($event.target.value)"
        >
          <option [value]="o.id" *ngFor="let o of spinner">
            {{ o.descripcion }}
          </option>
        </select>
        <input
          type="text"
          name="search"
          id="search"
          class="form-control form-main-input col-md-3 mr-2"
          [(ngModel)]="searchTxt"
          placeholder="Buscar"
        />
        <button
          class="btn btn-green"
          id="btn-search-date"
          (click)="filterList()"
        >
          Filtrar
        </button>
      </div>
      <div class="col-md-4 empresas">
        <h3>Empresas</h3>
      <div *ngFor="let envio of arr; index as i" >
        <li> {{envio}}</li>
      </div>
    </div>
      </div>
      <div class="card-header">
        <h2 class="card-title">Lista de recojos</h2>
      </div>
      <div class="card-body">
        <div *ngIf="data.length !== 0" class="table-responsive">
          <table class="table table-hover">
            <thead class="text-primary">
              <th scope="col"></th>
              <th scope="col">Nombre de la Empresa </th>
              <th scope="col">Vendedor</th>
              <th scope="col">Cantidad</th>
              <th scope="col">Comprador</th>
              <th scope="col">Direcci√≥n</th>
              <th scope="col">Distrito</th>
              <th scope="col">Telefono</th>
              <th scope="col">Estado</th>
              <th scope="col">Opciones</th>
            </thead>
            <tbody>
              <tr *ngFor="let envio of data; index as i">
                <th>{{ i + 1 }}</th>
                <td>{{ envio.nombre_empresa }}</td>
                <td>{{ envio.cliente }}</td>
                <td>{{ envio.cantidad }}</td>
                <td>{{ envio.comprador }}</td>
                <td>
                  <a
                    href="{{ envio.url }}"
                    class="table-link"
                    target="_blank"
                    *ngIf="envio.check"
                  >
                    {{ envio.direccion }}
                  </a>
                  <span *ngIf="!envio.check"> {{ envio.direccion }} </span>
                </td>
                <td>{{ envio.nombre_distrito}}</td>
                <td>{{ envio.telefono }}</td>
                <td>{{ envio.nombre_estado }}</td>
                <td>
                 <div class="botones">
                <button
                  class="btn btn-info mr-1"
                  (click)="Entregado(envio)"
                >
                  Recogido
                </button>
                <button
                  class="btn btn-green botoncito mr-1"
                  (click)="Enruta(envio)"
                >
                  En Ruta
                </button>
                <button
                class="btn btn-danger"
                (click)="caida(envio)"
              >
                Caida
              </button>
            </div>
                </td>

              </tr>
            </tbody>
          </table>
        </div>
        <div *ngIf="data.length === 0">
          <p>No tienes recojos programados</p>
        </div>
      </div>
    </div>
  </div>
</div>
