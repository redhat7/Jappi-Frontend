<ngx-spinner
  bdColor="rgba(51,51,51,0.8)"
  size="medium"
  color="#fff"
  type="ball-scale-multiple"
>
  <p style="font-size: 20px; color: white">Cargando ...</p>
</ngx-spinner>
<div class="row">
  <div class="col-md-12">
    <div class="card">
      <div class="card-body" *ngIf="validar">
        <div class="aia" >
          <div>
            <h2 class="card-title m-0">Generar recojos y entregas</h2>
            <p class="mb-2">Solo darle click una vez al día</p>
          </div>
          <div class="part">
            <button  class="btn btn-danger" (click)="limpiarRecojos()">
            R
            </button>
            <button  class="btn btn-danger" (click)="limpiarEntregas()">
            E
            </button>
          </div>
        </div>
      
      
        <div class="display">

      
        <div>
          <button  class="btn btn-yellow mr-2" (click)="generarRecojo()">
            Generar recojo
          </button>
          <button  class="btn btn-green" (click)="generarEnvio()">
            Generar entrega
          </button>
        
        </div>
       
      </div>
      </div>
      <div class="card-body d-flex align-items-center">
        <select
          name="entrega"
          id="entrega"
          class="form-select form-main-select col-md-3 mr-2"
          (change)="searchOptionsEvent($event)"
        >
          <option [value]="option.id" *ngFor="let option of searchOptions">
            {{ option.descripcion }}
          </option>
        </select>
        <input
          type="text"
          name="buscar"
          id="search"
          class="form-control form-main-input col-md-3 mr-2"
          placeholder="Buscar"
          [(ngModel)]="searchInput"
        />
        <button
          class="btn btn-green"
          id="btn-search"
          (click)="filterList($event)"
        >
          Filtrar
        </button>
      </div>
      <div class="card-header">
        <h2 class="card-title">Envios del Dia</h2>
      </div>
      <div class="card-body">
        <div class="table-responsive">
          <table class="table table-hover">
            <thead class="table-head">
              <th scope="col">N°</th>
              <th scope="col" >Vendedor</th>
              <th scope="col">Producto</th>
              <th scope="col">Cant</th>
              <th scope="col" class="size">Fecha de entrega</th>
              <th scope="col" >Comprador</th>
              <th scope="col" class="size">Monto total</th>
              <th scope="col" class="size">Metodo de pago</th>
              <th scope="col" class="size">Modo de entrega</th>
              <th scope="col" >Distrito</th>
              <th scope="col">Estado</th>
              <th scope="col">Motivo</th>
              <th scope="col">Agregar Motivo</th>
              <th scope="col">Ultima Modificacion</th>
              <th scope="col">Fecha y hora de creación</th>
            </thead>
            <tbody>
              <tr *ngFor="let envio of dataFilter; index as i">
                <th>{{ i + 1 }}</th>
                <td>{{ envio.vendedor }}</td>
                <td>{{ envio.descripcion }}</td>
                <td>{{ envio.cantidad }}</td>
                <td>{{ envio.fecha_entrega }}</td>
                <td>{{ envio.comprador }}</td>
                <td>{{ envio.monto_total | currency: "S/" }}</td>
                <td>{{ envio.metodo_pago || "No tiene" }}</td>
                <td>{{ envio.modo_entrega }}</td>
                <td>{{ envio.distritoName }}</td>
                <td>{{ envio.nombre_estado }}</td>
                <td>{{ envio.motivo || "No tiene" }}</td>
                <td>
                  
                  <div class="dis"><button class="btn btn-green" (click)="clickModalObs(envio)">
                    Agregar Estado/Motivo
                  </button>
                 
                </div>
                </td>
                <td>
                  <p> id: {{envio.modificacion || "No actualizado"}}</p>
                </td>
                <td> {{ envio.fecha_registro | date:'medium' }} </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>
